<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Handwritten Text Recognition</title>
    <meta property="og:image" content="/assets/img/text_recognition.png?h=550c132ffea2462dc84a91bcdc527835">
    <meta name="description" content="Handwritten Text Recognition is persionalised hand written text recognition website, where user can train model, download and recognition handwritten text. ">
    <meta http-equiv="og:type" content="website">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=ABeeZee">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/assets/css/styles.min.css?h=73d47f892676e58f907508c71acd6cb8">
</head>

<body>
    <header>
        <!-- Start: header -->
        <nav class="navbar navbar-light navbar-expand-md navigation-clean" style="padding: 0px;filter: blur(0px);color: rgb(255,255,255);background-color: rgb(113,193,255);">
            <div class="container">
                <div><a class="navbar-brand" href="#">Insight Scope </a><button data-toggle="collapse" class="navbar-toggler" data-target="#navcol-1"><span class="sr-only">Toggle navigation</span><span class="navbar-toggler-icon"></span></button></div>
                <div
                    class="collapse navbar-collapse" id="navcol-1" style="color: rgb(255,255,255);">
                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item" role="presentation"><a class="nav-link" href="/index.html">Home</a></li>
                        <li class="nav-item" role="presentation"><a class="nav-link" href="/modeltraining.html">Model Training</a></li>
                        <li class="nav-item" role="presentation"><a class="nav-link active" href="/textdetection.html">Text Detection</a></li>
                        <li class="nav-item" role="presentation"><a class="nav-link" href="/faq.html">FAQ<br></a></li>
                        <li class="nav-item" role="presentation"><a class="nav-link" href="/aboutme.html">About Me&nbsp;<br></a></li>
                    </ul>
            </div>
            </div>
        </nav>
        <!-- End: header -->
    </header>
    <!-- Start: Article List -->
    <div class="article-list">
        <div class="container">
            <!-- Start: Intro -->
            <div class="intro">
                <h2 class="text-center"><strong>Text Recognition</strong></h2>
            </div>
            <!-- End: Intro -->
            <div>
                <section>
                    <!-- Start: OmGroEleChooseAndUpload -->
                    <div>
                        <div class="row">
                            <div class="col">
                                <h4 class="padMar">Upload Single Character Image</h4>
                                <div class="row">
                                    <div class="col-12 col-sm-10 col-md-10 col-lg-12 col-xl-9 d-flex flex-wrap padMar mx-auto"><button class="btn btn-primary btn-Oscuro" type="button">Select File</button><input type="text" id="Imgfile" placeholder="  No file chosen..."></div>
                                    <div class="col"><button class="btn btn-primary btn-Oscuro" type="button">Upload</button></div>
                                    <div class="col-12 col-sm-10 col-md-10 col-lg-12 col-xl-9 d-flex flex-wrap padMar mx-auto">
                                        <p id="status" class="margenesTxts"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- End: OmGroEleChooseAndUpload -->
                </section>
            </div>
        </div>
    </div>
    <!-- End: Article List -->
    <footer class="mt-auto">
        <!-- Start: Bold BS4 Footer Social -->
        <footer id="myFooter" class="mt-auto">
            <div class="container-fluid">
                <div class="row social-networks">
                    <div class="col"><a href="https://github.com/preyash2047" target="_blank"><i class="fa fa-github"></i></a><a href="https://www.instagram.com/preyash_patel__/"><i class="fa fa-twitter"></i></a><a class="linkedin" href="https://www.linkedin.com/in/preyash2047/"
                            target="_blank"><i class="fa fa-instagram"></i></a><a class="linkedin" href="https://www.linkedin.com/in/preyash2047/" target="_blank"><i class="fa fa-linkedin"></i></a></div>
                </div>
                <div class="row footer-copyright">
                    <div class="col">
                        <p>Â© 2020 Copyright Text ~ Designed By&nbsp;<a href="https://www.linkedin.com/in/preyash2047/" target="_blank">Preyash Patel</a></p>
                    </div>
                </div>
            </div>
        </footer>
        <!-- End: Bold BS4 Footer Social -->
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs/dist/tf.min.js"></script>
    <script src="/assets/js/script.min.js?h=fdf50df7d638329a7b0b8d3f5f9d8683"></script>
    <script>
    var x = document.getElementById("Imgfile");
    var txt = "";
    if ('files' in x) {
      if (x.files.length == 0) {
        txt = "Select one or more files.";
      } else {
        for (var i = 0; i < x.files.length; i++) {
          txt += "<br><strong>" + (i+1) + ". file</strong><br>";
          var file = x.files[i];
          if ('name' in file) {
            txt += "name: " + file.name + "<br>";
          }
          if ('size' in file) {
            txt += "size: " + file.size + " bytes <br>";
          }
        }
      }
    }
    document.getElementById ("status").innerHTML = txt;

    let net;
    async function app() {
        console.log('Loading mobilenet..');
        // Load the model.
        net = await tf.loadLayersModel('selective_data_model/model.json');
        console.log('Successfully loaded model');

        const img = document.getElementById('img');
        const tfImg = tf.browser.fromPixels(img);
        const smalImg = tf.image.resizeBilinear(tfImg, [64, 64]);
        const resized = tf.cast(smalImg, 'float32');
        const t4d = tf.tensor4d(Array.from(resized.dataSync()),[1,64,64,3]);

        var abcd = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];
        const result = await net.predict(t4d).data();
        console.log(abcd[result.indexOf(1)]);

        console.log(result);
        }
    app();

    </script>
</body>

</html>
